<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Song Key Finder</title>
</head>
<body>

<h1>Song Key Finder</h1>

 
<div id="chords">
    <!-- Chord Selector 1 -->
    <div class="chord-selection">
      <select id="chord1Note">
        <option value="">Select Chord</option>
        <option value="00">C</option>
        <option value="01">C#/Db</option>
        <option value="02">D</option>
        <option value="03">D#/Eb</option>
        <option value="04">E</option>
        <option value="05">F</option>
        <option value="06">F#/Gb</option>
        <option value="07">G</option>
        <option value="08">G#/Ab</option>
        <option value="09">A</option>
        <option value="10">A#/Bb</option>
        <option value="11">B</option>
      </select>
      <select id="chord1Quality">
        <option value="">Select Chord Quality</option>
        <option value="0">Major</option>
        <option value="3">Minor</option>
        <option value="5">Dominant</option>
        <option value="7">Diminished</option>
      </select>
    </div>
    

    <!-- Chord Selector 2 -->
    <div class="chord-selection">
      <select id="chord2Note">
        <option value="">Select Chord</option>
        <option value="00">C</option>
        <option value="01">C#/Db</option>
        <option value="02">D</option>
        <option value="03">D#/Eb</option>
        <option value="04">E</option>
        <option value="05">F</option>
        <option value="06">F#/Gb</option>
        <option value="07">G</option>
        <option value="08">G#/Ab</option>
        <option value="09">A</option>
        <option value="10">A#/Bb</option>
        <option value="11">B</option>
      </select>
      <select id="chord2Quality">
        <option value="">Select Chord Quality</option>
        <option value="0">Major</option>
        <option value="3">Minor</option>
        <option value="5">Dominant</option>
        <option value="7">Diminished</option>
      </select>
    </div>


   <!-- Chord Selector 3 -->
    <div class="chord-selection">
      <select id="chord3Note">
        <option value="">Select Chord</option>
        <option value="00">C</option>
        <option value="01">C#/Db</option>
        <option value="02">D</option>
        <option value="03">D#/Eb</option>
        <option value="04">E</option>
        <option value="05">F</option>
        <option value="06">F#/Gb</option>
        <option value="07">G</option>
        <option value="08">G#/Ab</option>
        <option value="09">A</option>
        <option value="10">A#/Bb</option>
        <option value="11">B</option>
      </select>
      <select id="chord3Quality">
        <option value="">Select Chord Quality</option>
        <option value="0">Major</option>
        <option value="3">Minor</option>
        <option value="5">Dominant</option>
        <option value="7">Diminished</option>
      </select>
    </div>



  <!-- Chord Selector 4 -->
    <div class="chord-selection">
      <select id="chord4Note">
        <option value="">Select Chord</option>
        <option value="00">C</option>
        <option value="01">C#/Db</option>
        <option value="02">D</option>
        <option value="03">D#/Eb</option>
        <option value="04">E</option>
        <option value="05">F</option>
        <option value="06">F#/Gb</option>
        <option value="07">G</option>
        <option value="08">G#/Ab</option>
        <option value="09">A</option>
        <option value="10">A#/Bb</option>
        <option value="11">B</option>
      </select>
      <select id="chord4Quality">
        <option value="">Select Chord Quality</option>
        <option value="0">Major</option>
        <option value="3">Minor</option>
        <option value="5">Dominant</option>
        <option value="7">Diminished</option>
      </select>
    </div>



 <!-- Chord Selector 5 -->
    <div class="chord-selection">
      <select id="chord5Note">
        <option value="">Select Chord</option>
        <option value="00">C</option>
        <option value="01">C#/Db</option>
        <option value="02">D</option>
        <option value="03">D#/Eb</option>
        <option value="04">E</option>
        <option value="05">F</option>
        <option value="06">F#/Gb</option>
        <option value="07">G</option>
        <option value="08">G#/Ab</option>
        <option value="09">A</option>
        <option value="10">A#/Bb</option>
        <option value="11">B</option>
      </select>
      <select id="chord5Quality">
        <option value="">Select Chord Quality</option>
        <option value="0">Major</option>
        <option value="3">Minor</option>
        <option value="5">Dominant</option>
        <option value="7">Diminished</option>
      </select>
    </div>

 <!-- Chord Selector 6 -->
    <div class="chord-selection">
      <select id="chord6Note">
        <option value="">Select Chord</option>
        <option value="00">C</option>
        <option value="01">C#/Db</option>
        <option value="02">D</option>
        <option value="03">D#/Eb</option>
        <option value="04">E</option>
        <option value="05">F</option>
        <option value="06">F#/Gb</option>
        <option value="07">G</option>
        <option value="08">G#/Ab</option>
        <option value="09">A</option>
        <option value="10">A#/Bb</option>
        <option value="11">B</option>
      </select>
      <select id="chord6Quality">
        <option value="">Select Chord Quality</option>
        <option value="0">Major</option>
        <option value="3">Minor</option>
        <option value="5">Dominant</option>
        <option value="7">Diminished</option>
      </select>
    </div>

</form>






<p id="keyDisplay">^^^Select the chords of your song ^^^ </p>

<script>

// Note and Chord Quality Mappings
var noteMapping = {
    'C': '00', 'C#/Db': '01', 'D': '02', 'D#/Eb': '03', 'E': '04',
    'F': '05', 'F#/Gb': '06', 'G': '07', 'G#/Ab': '08', 'A': '09', 'A#/Bb': '10', 'B': '11'
};

var chordQualityMapping = {
    'Major': '0',
    'Minor': '3',
    'Dominant': '5',
    'Diminished': '7'
};
var keyChordMapping = {
    'C major - C (I) - Dmi (ii) - Emi (iii) - F (IV) - G(7) (V) - Ami (vi) - Bdim (Bmi7b5) (G/B) (vii)': ['000', '023', '043', '050', '070', '075', '093', '117'],
    'Db major - Db (I) - Ebmi (ii) - Fmi (iii) - Gb (IV) - Ab(7) (V) - Bbmi (vi) - Cdim (Cmi7b5) (Ab/C) (vii)': ['010', '033', '053', '060', '080', '085', '103', '007'],
    'D major - D (I) - Emi (ii) - F#mi (iii) - G (IV) - A(7) (V) - Bmi (vi) - C#dim (C#mi7b5) (A/C#) (vii)': ['020', '043', '063', '070', '090', '095', '113', '017'],
    'Eb major - Eb (I) - Fmi (ii) - Gmi (iii) - Ab (IV) - Bb(7) (V) - Cmi (vi) - Ddim (Dmi7b5) (Bb/D) (vii)': ['030', '053', '073', '080', '100', '105', '003', '027'],
    'E major - E (I) - F#mi (ii) - G#mi (iii) - A (IV) - B(7) (V) - C#mi (vi) - D#dim (D#mi7b5) (B/D#) (vii)': ['040', '063', '083', '090', '110', '115', '013', '037'],
    'F major - F (I) - Gmi (ii) - Ami (iii) - Bb (IV) - C(7) (V) - Dmi (vi) - Edim (Emi7b5) (C/E) (vii)': ['050', '073', '093', '100', '120', '125', '023', '047'],
    'Gb major - Gb (I) - Abmi (ii) - Bbmi (iii) - B (IV) - Db(7) (V) - Ebmi (vi) - Fdim (Fmi7b5) (Db/F) (vii)': ['060', '083', '103', '110', '010', '015', '033', '057'],
    'G major - G (I) - Ami (ii) - Bmi (iii) - C (IV) - D(7) (V) - Emi (vi) - F#dim (F#mi7b5) (D/F#) (vii)': ['070', '093', '113', '000', '020', '025', '043', '067'],
    'Ab major - Ab (I) - Bbmi (ii) - Cmi (iii) - Db (IV) - Eb(7) (V) - Fmi (vi) - Gdim (Gmi7b5) (Eb/G) (vii)': ['080', '103', '123', '130', '030', '035', '053', '077'],
    'A major - A (I) - Bmi (ii) - C#mi (iii) - D (IV) - E(7) (V) - F#mi (vi) - G#dim (G#mi7b5) (E/G#) (vii)': ['090', '113', '133', '140', '160', '045', '063', '087'],
    'Bb major - Bb (I) - Cmi (ii) - Dmi (iii) - Eb (IV) - F(7) (V) - Gmi (vi) - Adim (Ami7b5) (F/A) (vii)': ['100', '003', '023', '030', '050', '055', '073', '097'],
    'B major - B (I) - C#mi (ii) - D#mi (iii) - E (IV) - F#(7) (V) - G#mi (vi) - A#dim (A#mi7b5) (F#/A#) (vii)': ['110', '013', '003', '013', '180', '065', '083', '107']
,



    'C major with a jazzy/melodic Fmi (iv)': ['000', '023', '043', '050', '053', '070', '075', '093', '117'],
    'Db major with a jazzy/melodic Gbmi (iv)': ['010', '033', '053', '060', '063', '080', '085', '103', '007'],
    'D major with a jazzy/melodic Gmi (iv)': ['020', '043', '063', '070', '073', '090', '095', '113', '017'],
    'Eb major with a jazzy/melodic Abmi (iv)': ['030', '053', '073', '080', '083', '100', '105', '003', '027'], // D#/Eb major: D#, Gm, Abm, G#, A#, A#7, Cm, Fm (Ddim replaced with Fm)
    'E major with a jazzy/melodic Ami (iv)': ['040', '063', '083', '090', '093','110', '115', '013', '037'], // E major: E, Am, Bbm, A, B, B7, C#m, G#m (G#dim replaced with G#m)
    'F major with a jazzy/melodic Bbmi (iv)': ['050', '073', '093', '100', '103','120', '125', '023', '047'], // F major: F, Gm, Am, Bb, C, C7, Dm, A#m (Edim replaced with A#m)
    'Gb major with a jazzy/melodic Bmi (iv)': ['060', '083', '103', '110', '113','010', '015', '033', '057'], // F#/Gb major: F#, G#m, A#m, B, C#, C#7, D#m, Bm (Fdim replaced with Bm)
    'G major with a jazzy/melodic Cmi (iv)': ['070', '093', '113', '000', '003', '020', '025', '043', '067'], // G major: G, Am, Bm, C, D, D7, Em, Cm (Ebdim replaced with Cm)
    'Ab major with a jazzy/melodic Dbmi (iv)': ['080', '103', '123', '010', '013', '030', '035', '053', '077'], // G#/Ab major: G#, A#m, Cm, C#, D#, D#7, Fm, Dm (Gdim replaced with Dm)
    'A major with a jazzy/melodic Dmi (iv)': ['090', '113', '133', '140', '143', '160', '045', '063', '087'], // A major: A, Bm, C#m, D, E, E7, F#m, Em (Adim replaced with Em)
    'Bb major with a jazzy/melodic Ebmi (iv)': ['100', '003', '023', '030', '033', '050', '055', '073', '097'], // A#/Bb major: A#, Cm, Dm, D#, F, F7, Gm, Fm (Cdim replaced with Fm)
    'B major with a jazzy/melodic Emi (iv)': ['110', '013', '003', '040', '043', '180', '065', '083', '107'] , // B major: B, C#m, D#m, E, F#, F#7, G#m, Em (Bbdim replaced with Em)








     'C Lydian - C major scale with D(7) (II)': ['000', '023', '020', '043', '050', '070', '075', '093', '117'], // C major: C, Dm, F, G, G7, Am, Em, Bdim
    'Db Lydian - Db major scale with B(7) (II)': ['010', '033', '030', '053', '060', '080', '085', '103', '007'], // C#/Db major: C#, D#m, F#, G#, G#7, A#m, Fm, Bdim
    'D Lydian - D major scale with C(7) (II)': ['020', '043', '040', '063', '070', '090', '095', '113', '017'], // D major: D, Em, G, A, A7, Bm, F#m, C#dim
    'Eb Lydian - Eb major scale with F(7) (II)': ['030', '053', '050', '073', '080', '100', '105', '003', '027'], // D#/Eb major: D#, Gm, Abm, G#, A#, A#7, Cm, Fm (Ddim replaced with Fm)
    'E Lydian - E major scale with F#(7) (II)': ['040', '063', '060', '083', '090', '110', '115', '013', '037'], // E major: E, Am, Bbm, A, B, B7, C#m, G#m (G#dim replaced with G#m)
    'F Lydian - F major scale with G(7) (II)': ['050', '073', '070', '093', '100', '120', '125', '023', '047'], // F major: F, Gm, Am, Bb, C, C7, Dm, A#m (Edim replaced with A#m)
    'Gb Lydian - Gb major scale with E(7) (II)': ['060', '083', '080', '103', '110', '010', '015', '033', '057'], // F#/Gb major: F#, G#m, A#m, B, C#, C#7, D#m, Bm (Fdim replaced with Bm)
    'G Lydian - G major scale with F(7) (II)': ['070', '093', '090', '113', '000', '020', '025', '043', '067'], // G major: G, Am, Bm, C, D, D7, Em, Cm (Ebdim replaced with Cm)
    'Ab Lydian - Ab major scale with Gb(7) (II)': ['080', '103', '100', '123', '130', '030', '035', '053', '077'], // G#/Ab major: G#, A#m, Cm, C#, D#, D#7, Fm, Dm (Gdim replaced with Dm)
    'A Lydian - A major scale with G(7) (II)': ['090', '113', '110', '133', '140', '160', '045', '063', '087'], // A major: A, Bm, C#m, D, E, E7, F#m, Em (Adim replaced with Em)
    'Bb Lydian - Bb major scale with Ab(7) (II)': ['100', '003', '000', '023', '030', '050', '055', '073', '097'], // A#/Bb major: A#, Cm, Dm, D#, F, F7, Gm, Fm (Cdim replaced with Fm)
    'B Lydian - B major scale with A(7) (II)': ['110', '013', '010', '003', '013', '180', '065', '083', '107'] , // B major: B, C#m, D#m, E, F#, F#7, G#m, Em (Bbdim replaced with Em)

     'G mixoLydian - G major scale with F(7) (bVII)': ['000', '023', '020', '043', '050', '070', '075', '093', '117'], // C major: C, Dm, F, G, G7, Am, Em, Bdim
    'Ab mixoLydian - Ab major scale with Gb(7) (bVII)': ['010', '033', '030', '053', '060', '080', '085', '103', '007'], // C#/Db major: C#, D#m, F#, G#, G#7, A#m, Fm, Bdim
    'A mixoLydian - A major scale with G(7) (bVII)': ['020', '043', '040', '063', '070', '090', '095', '113', '017'], // D major: D, Em, G, A, A7, Bm, F#m, C#dim
    'Bb mixoLydian - Bb major scale with Ab(7) (bVII)': ['030', '053', '050', '073', '080', '100', '105', '003', '027'], // D#/Eb major: D#, Gm, Abm, G#, A#, A#7, Cm, Fm (Ddim replaced with Fm)
    'B mixoLydian - B major scale with A(7) (bVII)': ['040', '063', '060', '083', '090', '110', '115', '013', '037'], // E major: E, Am, Bbm, A, B, B7, C#m, G#m (G#dim replaced with G#m)
    'C mixoLydian - C major scale with Bb(7) (bVII)': ['050', '073', '070', '093', '100', '120', '125', '023', '047'], // F major: F, Gm, Am, Bb, C, C7, Dm, A#m (Edim replaced with A#m)
    'Db mixoLydian - Db major scale with B(7) (bVII)': ['060', '083', '080', '103', '110', '010', '015', '033', '057'], // F#/Gb major: F#, G#m, A#m, B, C#, C#7, D#m, Bm (Fdim replaced with Bm)
    'D mixoLydian - D major scale with C(7) (bVII)': ['070', '093', '090', '113', '000', '020', '025', '043', '067'], // G major: G, Am, Bm, C, D, D7, Em, Cm (Ebdim replaced with Cm)
    'Eb mixoLydian - Eb major scale with Db(7) (bVII)': ['080', '103', '100', '123', '130', '030', '035', '053', '077'], // G#/Ab major: G#, A#m, Cm, C#, D#, D#7, Fm, Dm (Gdim replaced with Dm)
    'E mixoLydian - E major scale with D(7) (bVII)': ['090', '113', '110', '133', '140', '160', '045', '063', '087'], // A major: A, Bm, C#m, D, E, E7, F#m, Em (Adim replaced with Em)
    'F mixoLydian - F major scale with Eb(7) (bVII)': ['100', '003', '000', '023', '030', '050', '055', '073', '097'], // A#/Bb major: A#, Cm, Dm, D#, F, F7, Gm, Fm (Cdim replaced with Fm)
    'Gb mixoLydian - Gb major scale with E(7) (bVII)': ['110', '013', '010', '003', '013', '180', '065', '083', '107'] , // B major: B, C#m, D#m, E, F#, F#7, G#m, Em (Bbdim replaced with Em)


'C harmonic minor (Spanish) or Eb Major with a Soulful III)': ['003', '030', '053', '080', '070', '075'], // C harmonic minor: Cm, Fm, Ab, G, G7
'C# harmonic minor (Spanish) or E Major with a Soulful III)': ['013', '040', '063', '090', '080', '085'], // C#/Db harmonic minor: C#m, F#m, A, G#, G#7
'D harmonic minor (Spanish) or F Major with a Soulful III)': ['023', '050', '073', '100', '090', '095'], // D harmonic minor: Dm, Gm, Bb, A, A7
'Eb harmonic minor (Spanish) or Gb Major with a Soulful III)': ['033', '060', '083', '110', '100', '105'], // D#/Eb harmonic minor: Ebm, Abm, B, Bb, Bb7
'E harmonic minor (Spanish) or G Major with a Soulful III)': ['043', '070', '093', '000', '110', '115'], // E harmonic minor: Em, Am, C, B, B7
'F harmonic minor (Spanish) or Ab Major with a Soulful III)': ['053', '080', '103', '010', '000', '005'], // F harmonic minor: Fm, Bbm, Db, C, C7
'Gb harmonic minor (Spanish) or A Major with a Soulful III)': ['063', '090', '113', '020', '010', '015'], // F#/Gb harmonic minor: F#m, Bm, D, C#, D7
'G harmonic minor (Spanish) or Bb Major with a Soulful III)': ['073', '100', '003', '030', '020', '025'], // G harmonic minor: Gm, Cm, Eb, D, D7
'Ab harmonic minor (Spanish) or B Major with a Soulful III)': ['083', '110', '013', '040', '030', '035'], // G#/Ab harmonic minor: G#m, C#m, E, Eb, E7
'A harmonic minor (Spanish) or C Major with a Soulful III)': ['093', '000' , '023', '050', '040', '045'], // A harmonic minor: Am, Dm, F, E, E7
'Bb harmonic minor (Spanish) or Db Major with a Soulful III)': ['103', '010', '033', '060', '050', '055'], // A#/Bb harmonic minor: Bbm, Ebm, F#, F, F7
'B harmonic minor (Spanish) or D Major with a Soulful III)': ['113', '020', '043', '070', '060', '065'] // B harmonic minor: Bm, Em, G, F#, G7
};

// Combine note and quality to get chord encoding
function combineNoteAndQuality(note, quality) {
    return note + quality;
}

// Function to find possible keys
function findPossibleKeys(selectedChords) {
    let possibleKeys = [];
    Object.keys(keyChordMapping).forEach(key => {
        const isKeyMatch = selectedChords.every(chord => keyChordMapping[key].includes(chord));
        if (isKeyMatch) {
            possibleKeys.push(key);
        }
    });
    return possibleKeys;
}

function updateKeyDisplay() {
    let selectedChords = [];
    for (let i = 1; i <= 6; i++) {
        const chordNote = document.getElementById(`chord${i}Note`).value;
        const chordQuality = document.getElementById(`chord${i}Quality`).value;
        if (chordNote && chordQuality) {
            selectedChords.push(combineNoteAndQuality(chordNote, chordQuality));
        }
    }

    if (selectedChords.length >= 3) {
        const possibleKeys = findPossibleKeys(selectedChords);
        if (possibleKeys.length > 0) {
            document.getElementById('keyDisplay').innerHTML = 'Possible keys <i>(in order of likelihood and complexity)</i>:<br>' + possibleKeys.join('<br>');
        } else {
            document.getElementById('keyDisplay').textContent = 'No matching key found. The Song may modulate or be in multiple keys, Please revise selections or enter more chords or just the chords from a single section .';
        }
    } else {
        document.getElementById('keyDisplay').textContent = 'Select at least 3 chords to find possible keys.';
    }
}


document.addEventListener('DOMContentLoaded', () => {
    for (let i = 1; i <= 6; i++) {
        document.getElementById(`chord${i}Note`).addEventListener('change', updateKeyDisplay);
        document.getElementById(`chord${i}Quality`).addEventListener('change', updateKeyDisplay);
    }
});

</script>
</body>

</html>